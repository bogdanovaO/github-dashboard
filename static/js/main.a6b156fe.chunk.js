(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{28:function(e,t,a){},41:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),c=a.n(o),s=a(10),l=a(11),i=a(14),u=a(13),p=a(20),d=a(2),m=a(12);a(28);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var v=n.a.createElement("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",fill:"#ffd33d"}),f=function(e){var t=e.svgRef,a=e.title,r=g(e,["svgRef","title"]);return n.a.createElement("svg",h({width:15,height:15,viewBox:"0 0 24 24",ref:t},r),a?n.a.createElement("title",null,a):null,v)},y=n.a.forwardRef((function(e,t){return n.a.createElement(f,h({svgRef:t},e))})),b=(a.p,function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={currentRepository:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=JSON.parse(localStorage.getItem("allRepositories")).find((function(t){return t.name===e}));this.setState({currentRepository:t})}},{key:"render",value:function(){var e=this.state.currentRepository,t=e.owner?e.owner:null,a=t?t.avatar_url:e.avatar,r=t?t.html_url:e.url,o=t?t.login:e.author,c=e.name,s=e.stars?e.stars:e.stargazers_count,l=e.updated_at?e.updated_at.substr(8,2):null,i=e.updated_at?e.updated_at.substr(5,2):null,u=e.updated_at?e.updated_at.substr(0,4):null;return n.a.createElement("div",{className:"repositoryCard"},n.a.createElement("div",{className:"cardHeader"},n.a.createElement("div",{className:"cardHeader__name"}," ",n.a.createElement("a",{href:r,className:"repositoryCard__owner"},o),"/",c),n.a.createElement("div",{className:"cardHeader__update textLight"},l," ",i," ",u)),n.a.createElement("div",{className:"cardBody"},n.a.createElement("div",{className:"cardBody__ico"}," ",n.a.createElement("img",{className:"cardBody__ico",src:a,alt:"userIco"})),n.a.createElement("div",{className:"cardBody__text"},n.a.createElement("div",{className:"cardBody__star"},n.a.createElement(y,null),n.a.createElement("div",null,s)),n.a.createElement("div",{className:"cardBody__desk"},n.a.createElement("div",{className:"cardBody__title"},"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u044f\u0437\u044b\u043a:"),n.a.createElement("div",null,e.language)),n.a.createElement("div",{className:"cardBody__desk"},n.a.createElement("div",{className:"cardBody__title"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),n.a.createElement("div",null,e.description)))))}}]),a}(r.Component)),_=Object(m.b)((function(e){return{currentRepository:e.repositoriesReducer.repos}}))(b),E=a(19),O=a(23),j=a.n(O),x=function(e){return{type:"COUNT_REPOS",payload:e}},N=function(e){return{type:"GET_REPOS",payload:e}},R=a(38),S=a.n(R);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var k=n.a.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"}),T=function(e){var t=e.svgRef,a=e.title,r=P(e,["svgRef","title"]);return n.a.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),a?n.a.createElement("title",null,a):null,k)},C=n.a.forwardRef((function(e,t){return n.a.createElement(T,w({svgRef:t},e))})),B=(a.p,function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).setSearchText=function(e){var t=r.state.searchText,a=r.state.currentPage,n=e.target.value;r.setState({searchText:n}),"Enter"===e.key&&""!==t?r.props.search(t,a):r.props.getPopularRepositories()},r.handlePageClick=function(e){var t=e.selected+1;localStorage.setItem("page",t),r.setState({currentPage:t},(function(){r.state.searchText.length>0&&""!==r.state.searchText.length?r.props.search(r.state.searchText,r.state.currentPage):r.props.getPopularRepositories()}))},r.handleInputSearch=function(e){var t=e.target.value;r.setState({searchText:t}),localStorage.setItem("searchText",t)},r.handlePageClick=r.handlePageClick.bind(Object(E.a)(r)),r.state={searchText:"",currentPage:1},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("page"),a=localStorage.getItem("searchText");this.setState({searchText:a,currentPage:t},(function(){null!=e.state.searchText&&""!==e.state.searchText.length?e.props.search(e.state.searchText,e.state.currentPage):e.props.getPopularRepositories()}))}},{key:"render",value:function(){var e=this,t=this.props.repos,a=this.state.searchText;return n.a.createElement("div",{className:"repositories"},n.a.createElement("input",{className:"input",type:"text","data-marker":"search/input",placeholder:"\u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\u043c",value:a,onKeyUp:function(t){return e.setSearchText(t)},onChange:this.handleInputSearch}),0===t.length?n.a.createElement("div",null,"loading"):t.map((function(e){return n.a.createElement("div",{className:"repository",key:e.name},n.a.createElement("a",{href:e.url,className:"repository__link"},n.a.createElement(C,null)),n.a.createElement(p.b,{className:"repository__name",to:"/detail/".concat(e.name)},e.name),n.a.createElement("div",{className:"repository__stars"},n.a.createElement(y,null),n.a.createElement("div",null,e.stargazers_count?e.stargazers_count:e.stars)))})),n.a.createElement(S.a,{tabindex:"1",pageCount:this.props.count,pageRangeDisplayed:9,marginPagesDisplayed:0,nextLabel:">",breakLabel:" ... ",previousLabel:"<",onPageChange:this.handlePageClick,containerClassName:"pagination",pageClassName:"pagination__page",previousClassName:this.props.count>0?"pagination__page":"pagination__page_none",nextClassName:this.props.count>0?"pagination__page":"pagination__page_none",breakClassName:"pagination__page"}))}}]),a}(r.Component)),I=Object(m.b)((function(e){return{repos:e.repositoriesReducer.repos,count:e.repositoriesReducer.count}}),(function(e){return{getPopularRepositories:function(){e((function(e){j.a.get("https://ghapi.huchen.dev/repositories",{headers:{Accept:"application/vnd.github.cloak-preview"}}).then((function(t){var a=t.data.slice(0,10);e(x(0)),e(N(a)),localStorage.setItem("allRepositories",JSON.stringify(a)),t.data.result||console.error(t.data.error)}))}))},search:function(t,a){e(function(e,t){return function(a){var r=e,n=t;null!=r&&j.a.get("https://api.github.com/search/repositories?q=".concat(r,"+&sort=stars&order=desc&page=").concat(n,"&per_page=10"),{headers:{"Content-Type":"application/vnd.github.mercy-preview+json"}}).then((function(e){a(x(e.data.total_count/10)),a(N(e.data.items)),localStorage.setItem("allRepositories",JSON.stringify(e.data.items)),e.data.result||console.error(e.data.error)}))}}(t,a))}}}))(B),M=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(p.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",component:I}),n.a.createElement(d.a,{exact:!0,path:"/:id",component:I}),n.a.createElement(d.a,{exact:!0,path:"/detail/:id",component:_})))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(9),D=a(16),J={count:0,repos:[]};var L=Object(z.combineReducers)({repositoriesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REPOS":return Object(D.a)(Object(D.a)({},e),{},{repos:t.payload});case"COUNT_REPOS":return Object(D.a)(Object(D.a)({},e),{},{count:t.payload});default:return e}}}),H=a(39),U=a(40),W=Object(z.createStore)(L,Object(U.composeWithDevTools)(Object(z.applyMiddleware)(H.a)));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m.a,{store:W},n.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.a6b156fe.chunk.js.map